---
sidebar_position: 2
---

# ì„œë²„ ì»´í¬ë„ŒíŠ¸, í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” ì–¸ì œ ì‚¬ìš©í• ê¹Œìš”?

### ğŸ“„ ìš”ì•½

> **ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•  ë•Œ**

1. ë°ì´í„°ë¥¼ fetchí•˜ëŠ” ê²½ìš°
2. ë°±ì—”ë“œ ë¦¬ì†ŒìŠ¤ì— ì§ì ‘ ì•¡ì„¸ìŠ¤í•˜ëŠ” ê²½ìš°
3. ì•¡ì„¸ìŠ¤ í† í°, API í‚¤ì™€ ê°™ì€ ë¯¼ê°í•œ ì •ë³´ë¥¼ ë³´ê´€í•˜ëŠ” ê²½ìš°
4. í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¦¬ì†ŒìŠ¤ë¥¼ ê°ì†Œ ì‹œí‚¤ê³  ì„œë²„ì— ì¢…ì†ì„±ì„ ë†’ì´ëŠ” ê²½ìš°

> **í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•  ë•Œ**

1. ì‚¬ìš©ìì™€ ìƒí˜¸ ì‘ìš©(ì´ë²¤íŠ¸ ë“±)ì„ í•´ì•¼ í•˜ëŠ” ê²½ìš°
2. ìƒíƒœ ë° ìˆ˜ëª…ì£¼ê¸°(useState, useEffect ë“±)ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°
3. ë¸Œë¼ìš°ì € ì „ìš© APIë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°
4. ì‚¬ìš©ì ì •ì˜ í›…ì´ state, effect, ë¸Œë¼ìš°ì € APIì— ì˜ì¡´í•˜ëŠ” ê²½ìš°

---

ë¦¬ì•¡íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œí•  ë•Œ ì„œë²„, í´ë¼ì´ì–¸íŠ¸ ì–´ë””ì—ì„œ ë Œë”ë§í• ì§€ ê³ ë ¤í•´ì•¼ í•´ìš”.

ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ ì¸¡ ë Œë”ë§ì´ ìˆ˜í–‰ë˜ê¸° ì „,
ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ ë“± ë°±ì—”ë“œ ì„œë¹„ìŠ¤ì— ì•¡ì„¸ìŠ¤ ë  ë•Œ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆì–´ìš”.

Nextì—ì„œëŠ” `env`íŒŒì¼ì— ì ‘ê·¼í•  ë•Œ ì ‘ë‘ì‚¬ì— `NEXT_PUBLIC`ì„ ë¶™ì´ë©´ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì•¡ì„¸ìŠ¤ í•  ìˆ˜ ìˆì§€ë§Œ,
envì˜ keyì— `NEXT_PUBLIC`ë¥¼ ë¶™ì´ì§€ ì•Šìœ¼ë©´ ì„œë²„ì—ì„œë§Œ ì•¡ì„¸ìŠ¤ í•  ìˆ˜ ìˆëŠ” ë¹„ê³µê°œ ë³€ìˆ˜ê°€ ë¼ìš”.

ë‹¤ìŒì€ Next.jsì˜ ê³µì‹ ë¬¸ì„œ ì˜ˆì‹œì½”ë“œì—ìš”.

ì—¬ê¸°ì„œëŠ” `NEXT_PUBLIC` ì ‘ë‘ì‚¬ê°€ ì—†ê¸° ë•Œë¬¸ì— ì„œë²„ì—ì„œë§Œ ì•¡ì„¸ìŠ¤ í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.

```tsx
export async function getData() {
  const res = await fetch('https://external-service.com/data', {
    headers: {
      // highlight-next-line
      authorization: process.env.API_KEY,
    },
  });

  return res.json();
}
```

### ì™œ ì´ë ‡ê²Œ êµ¬ë¶„ì„ ë‘ì—ˆì„ê¹Œìš”?

ë³´ì•ˆìƒ ì´ìœ  ë“± ì˜ë„ì¹˜ ì•Šì€ ì„œë²„ ì½”ë“œ ì‚¬ìš©ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œì—ìš”.

`server-only` íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì„œ ì‚¬ìš©í•œë‹¤ë©´, í•´ë‹¹ íŒ¨í‚¤ì§€ëŠ” ì„œë²„ ì‚¬ì´ë“œì—ì„œë§Œ ì‘ë™ë˜ë„ë¡ ì„¤ê³„ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ ì•„ë˜ APIë¥¼ í˜¸ì¶œí•œë‹¤ë©´ ì—ëŸ¬ê°€ ë°œìƒí•´ìš”.

```tsx
// highlight-next-line
import 'server-only';

export async function getData() {
  const res = await fetch('https://external-service.com/data', {
    headers: {
      authorization: process.env.API_KEY,
    },
  });

  return res.json();
}
```

### í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸

Next.jsì—ì„œëŠ” `use client;` ì§€ì‹œì–´ë¥¼ ìƒë‹¨ì— ì„ ì–¸í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì„ì„ ëª…ì‹œí•  ìˆ˜ ìˆì–´ìš”.

ë§Œì•½, ì‚¬ìš©ìì™€ ìƒí˜¸ì‘ìš© í•˜ëŠ” ë“± í´ë¼ì´ì–¸íŠ¸ ì „ìš© ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê³  ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì„œë²„ ì‚¬ì´ë“œì—ì„œ ì‚¬ìš©í•œë‹¤ë©´ ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ë˜í•‘í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.

ì»¨í…ìŠ¤íŠ¸ í”„ë¡œë°”ì´ë”ëŠ” ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§€ì›ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë§ˆì°¬ê°€ì§€ë¡œ í”„ë¡œë°”ì´ë”ë¥¼ ë‹¤ë¥¸ íŒŒì¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ë˜í•‘ì‹œí‚¤ëŠ” ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.

ìë°”ìŠ¤í¬ë¦½íŠ¸ ë²ˆë“¤ í¬ê¸°ë¥¼ ì¤„ì´ê¸° ìœ„í•´ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ [íŠ¸ë¦¬ ì•„ë˜ë¡œ ì´ë™](https://nextjs.org/docs/app/building-your-application/rendering/composition-patterns#moving-client-components-down-the-tree)í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ê³  í•´ìš”. (Next.js ê³µì‹ë¬¸ì„œ í”¼ì…œ)

:::danger CHECK!

ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ê°€ì ¸ì˜¤ëŠ” íŒ¨í„´ì€ ì§€ì›ë˜ì§€ ì•Šì•„ìš”.

:::

:::tip
ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ í”„ë¡­ìŠ¤ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆì–´ìš”. (children í™œìš©í•˜ê¸°)
:::

ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¥¼ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ childrenìœ¼ë¡œ ë„£ì–´ì£¼ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´, í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì™€ ì„œë²„ ì»´í¬ë„ŒíŠ¸ê°€ ë¶„ë¦¬ë˜ì–´ ë…ë¦½ì ìœ¼ë¡œ ë Œë”ë§ì´ ê°€ëŠ¥í•´ìš”.

---

> ì°¸ê³  ìë£Œ

[Server and Client Composition Patterns](https://nextjs.org/docs/app/building-your-application/rendering/composition-patterns#when-to-use-server-and-client-components)

```;

```
